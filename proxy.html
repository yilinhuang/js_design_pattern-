<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
   /* 作者：黄翼麟
    *时间：2017-07-03
    *实现代理模式，在对象执行之前尤其代理对象代为执行实现深入的交互功能
    */
    var Flower = function (type, price) {
        this.type = type ;
        this.price = price;
    }
    Flower.prototype.buy = function () {
        console.log("您购买了"+this.type+"请支付"+this.price+"元");
    }
    var flower = new Flower("玫瑰", 99);
    flower.buy();
    var hyl = {
        name: "黄翼麟",
        age: 22,
        city: "高安",
        sendFlower: function (target) {
            target.receiveFlower();
        }
    }
    var lj = {
        name: "卢静",
        age: 22,
        city: "高安",
        receiveFlower: function () {
            console.log("收到了花");
        },
        listenGoodMood: function (fn) {
            console.log("心情不好");
            setTimeout(function () {
                console.log("心情好了，约");
                
                fn()
            }, 5000);
        }
    }
    var xiaohong = {
        name: "小红",
        nickname: "送花使者",
        // 接口
        receiveFlower:function () {
            lj.listenGoodMood(function () {
                lj.receiveFlower();
            });
        }
    }
    hyl.sendFlower(xiaohong);
    </script>
</body>
</html>